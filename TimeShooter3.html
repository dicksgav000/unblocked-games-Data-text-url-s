data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuLXVzIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vIj4KICAgIDx0aXRsZT5UaW1lIFNob290ZXIgMyBTV0FUPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL21pc3RpcmsvZ29vZ2xlQGVlYmZmZGY3OWExNGY2ZTAxZTE1M2Q1Y2Q0YmVkMjNjNDMyODc0ZmIvdmVyc2lvbi90aW1lLXMzL3N0eWxlLmNzcyI+CiAgPC9oZWFkPgogIDxib2R5IGNsYXNzPSJkYXJrIj4KICAgIDxkaXYgaWQ9InVuaXR5LWNvbnRhaW5lciIgY2xhc3M9InVuaXR5LWRlc2t0b3AiPgogICAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiPjwvY2FudmFzPgogICAgPC9kaXY+CiAgICA8ZGl2IGlkPSJsb2FkaW5nLWNvdmVyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgIDxkaXYgaWQ9InVuaXR5LWxvYWRpbmctYmFyIj4KICAgICAgICA8ZGl2IGlkPSJ1bml0eS1sb2dvIj48aW1nIHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL21pc3RpcmsvZ29vZ2xlQGVlYmZmZGY3OWExNGY2ZTAxZTE1M2Q1Y2Q0YmVkMjNjNDMyODc0ZmIvdmVyc2lvbi90aW1lLXMzL2xvZ28ucG5nIj48L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZnVsbCI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lciI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGlkPSJ1bml0eS1mdWxsc2NyZWVuLWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgIGNvbnN0IGhpZGVGdWxsU2NyZWVuQnV0dG9uID0gIjEiOwogICAgICBjb25zdCBidWlsZFVybCA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvbWlzdGlyay9nb29nbGVAZWViZmZkZjc5YTE0ZjZlMDFlMTUzZDVjZDRiZWQyM2M0MzI4NzRmYi92ZXJzaW9uL3RpbWUtczMiOwogICAgICBjb25zdCBsb2FkZXJVcmwgPSBidWlsZFVybCArICIvdHMzLmxvYWRlci5qcyI7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICBkYXRhVXJsOiBidWlsZFVybCArICIvdHMzLmRhdGEiLAogICAgICAgIGZyYW1ld29ya1VybDogYnVpbGRVcmwgKyAiL3RzMy5mcmFtZXdvcmsuanMiLAogICAgICAgIGNvZGVVcmw6IGJ1aWxkVXJsICsgIi90czMud2FzbSIsCiAgICAgICAgc3RyZWFtaW5nQXNzZXRzVXJsOiAiU3RyZWFtaW5nQXNzZXRzIiwKICAgICAgICBjb21wYW55TmFtZTogIkdvR29NYW4iLAogICAgICAgIHByb2R1Y3ROYW1lOiAiVGltZSBTaG9vdGVyIFNXQVQiLAogICAgICAgIHByb2R1Y3RWZXJzaW9uOiAiMC4wMyIsCiAgICAgIH07CgogICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY29udGFpbmVyIik7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsKICAgICAgY29uc3QgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctY292ZXIiKTsKICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiKTsKICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJGdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1mdWxsIik7CiAgICAgIGNvbnN0IGZ1bGxzY3JlZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktZnVsbHNjcmVlbi1idXR0b24iKTsKICAgICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGlubmVyJyk7CgogICAgICBjb25zdCBjYW5GdWxsc2NyZWVuID0gKGZ1bmN0aW9uKCkgewogICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFsKICAgICAgICAgICAgJ2V4aXRGdWxsc2NyZWVuJywKICAgICAgICAgICAgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywKICAgICAgICAgICAgJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLAogICAgICAgICAgICAnbW96Q2FuY2VsRnVsbFNjcmVlbicsCiAgICAgICAgICAgICdtc0V4aXRGdWxsc2NyZWVuJywKICAgICAgICAgIF0pIHsKICAgICAgICAgIGlmIChrZXkgaW4gZG9jdW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSgpKTsKCiAgICAgIGlmICgvaVBob25lfGlQYWR8aVBvZHxBbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgewogICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAidW5pdHktbW9iaWxlIjsKICAgICAgICBjb25maWcuZGV2aWNlUGl4ZWxSYXRpbyA9IDE7CiAgICAgIH0KICAgICAgY2FudmFzLnN0eWxlLmJhY2tncm91bmQgPSAidXJsKCciICsgYnVpbGRVcmwgKyAiL3RzMy5qcGcnKSBjZW50ZXIgLyBjb3ZlciI7CiAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gIiI7CgogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgc2NyaXB0LnNyYyA9IGxvYWRlclVybDsKICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHsKICAgICAgICAgIHNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIHByb2dyZXNzQmFyRW1wdHkuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgICAgcHJvZ3Jlc3NCYXJGdWxsLnN0eWxlLndpZHRoID0gYCR7MTAwICogcHJvZ3Jlc3N9JWA7CiAgICAgICAgfSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gewogICAgICAgICAgbG9hZGluZ0NvdmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBpZiAoY2FuRnVsbHNjcmVlbikgewogICAgICAgICAgICBpZiAoIWhpZGVGdWxsU2NyZWVuQnV0dG9uKSB7CiAgICAgICAgICAgICAgZnVsbHNjcmVlbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVsbHNjcmVlbkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgIHVuaXR5SW5zdGFuY2UuU2V0RnVsbHNjcmVlbigxKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaCgobWVzc2FnZSkgPT4gewogICAgICAgICAgYWxlcnQobWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPg==
